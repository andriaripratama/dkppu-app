@model List<DKUPPU.ViewModels.TrxLicMedicalCertificateViewModel>
@{
    Layout = null;
}
<div class="row">
    <div class="col-xs-12">
        <div class="form-horizontal">
            <table class="table table-bordered table-striped">
                <thead>
                    <tr>
                        <th>Medical Class</th>

                        <th>From</th>

                        <th>Until</th>
                    </tr>
                </thead>
                <tbody id="TrxLicMedicalCertificateViewModel">
                    @{
                        int j = 0;
                        string vreadonly = "";
                        string vrequered = "";
                        string datepicker = "";
                        string from_date = "";
                        string until_date = "";
                    }
                    @foreach (DKUPPU.ViewModels.TrxLicMedicalCertificateViewModel item in Model)
                    {
                        vreadonly = "readonly='readonly'";
                        vrequered = "";
                        datepicker = "";
                        from_date = "";
                        until_date = "";
                        if ((item.is_history == false) && ViewBag.activity_id == "ACT01")
                        {
                            vreadonly = "";
                            vrequered = "required-value";
                            from_date = "from-date";
                            until_date = "until-date";
                            datepicker = "date-picker";
                        }
                        <tr id="TrxLicMedicalCertificateViewModel_@j">
                            <td>
                                <input type="hidden" name="TrxLicMedicalCertificateViewModel[@j].id_trx_lic_med_certi" id="TrxLicMedicalCertificateViewModel_@j.ToString()__id_trx_lic_med_certi" value="@Html.DisplayFor(m => m[j].id_trx_lic_med_certi)">
                                
                                @if (ViewBag.activity_id == "ACT01" && vreadonly == "")
                                {
                                    @Html.DropDownList("TrxLicMedicalCertificateViewModel[" + j.ToString() + "].med_certi_no", (IEnumerable<SelectListItem>)ViewBag.MedicalClass, new { @class = "form-control MedicalClass", id = "TrxLicMedicalCertificateViewModel_" + j.ToString() + "__med_certi_no" })
                                }
                                else
                                {   
                                    <input type="text" class="form-control" name="TrxLicMedicalCertificateViewModel[@j].med_certi_no" id="TrxLicMedicalCertificateViewModel_@j.ToString()__med_certi_no" value="@Html.DisplayFor(m => m[j].med_certi_no)" readonly="readonly">
                                }

                                @if (!(item.med_certi_no == null || item.med_certi_no == ""))
                                {
                                    <script>
                                    $(function () {
                                        $('#TrxLicMedicalCertificateViewModel_@j.ToString()__med_certi_no option[value="@item.med_certi_no"]').attr('selected', 'selected');
                                    })
                                    </script>
                                }
                                
                            </td>
                            <td>
                                <input type="text" class="form-control @vrequered @from_date @datepicker" name="TrxLicMedicalCertificateViewModel[@j].from_date" id="TrxLicMedicalCertificateViewModel_@j.ToString()__from_date" value="@Html.DisplayFor(m => m[j].from_date)" @vreadonly>
                            </td>
                            <td>
                                <input type="text" class="form-control @vrequered @until_date @datepicker" name="TrxLicMedicalCertificateViewModel[@j].until_date" id="TrxLicMedicalCertificateViewModel_@j.ToString()__until_date" value="@Html.DisplayFor(m => m[j].until_date)" @vreadonly>
                            </td>
                        </tr>
                        j++;
                    }
                </tbody>
            </table>
        </div>
    </div>

</div>

